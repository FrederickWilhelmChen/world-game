# Grand Strategy Game Demo

一个融合《钢铁雄心》和《维多利亚》玩法的大战略游戏demo。

## 游戏特色

### 核心机制

1. **时间系统**
   - 可暂停/继续的时间轴
   - 支持1x、2x、5x速度
   - 时间停止时只能规划，时间推进时才执行

2. **命令队列系统**
   - 所有操作都通过命令队列执行
   - 可以提前规划未来的操作
   - 时间推进时自动执行到期的命令

3. **国策树系统**（类似钢铁雄心）
   - 多个国策可选择
   - 需要满足前置条件
   - 需要政治点数启动
   - 完成后获得奖励

4. **经济系统**（类似维多利亚）
   - 全球市场商品流通
   - 供需关系影响价格
   - 多种商品：铁矿、煤炭、钢铁、机器、食物、消费品

5. **建筑系统**
   - 矿场：产出铁矿
   - 工厂：消耗铁矿和煤炭，产出钢铁
   - 军事基地：军事设施
   - 建造需要时间、金钱、机器和人力

6. **军队系统**
   - 可在地图上移动军队
   - 点击军队选中，再点击地图指定移动目标

## 运行游戏

```bash
cd game
npm install  # 如果还没安装依赖
npm run dev
```

然后打开浏览器访问 http://localhost:5173

## 游戏界面

### 顶部栏
- **时间显示**：当前游戏日期
- **时间控制**：暂停/开始按钮，速度选择
- **国家信息**：金钱、人力、政治点数

### 左侧面板 - 国策树
- 显示所有可用国策
- 点击国策启动（需要满足条件）
- 显示建造中的建筑列表

### 中间区域 - 地图
- **省份**：圆形区域，颜色代表所属国家
  - 点击己方省份可以建造建筑
- **军队**：小方块，显示⚔符号
  - 点击选中军队
  - 再点击地图其他位置移动军队

### 右侧面板 - 市场与资源
- **全球市场**：显示所有商品的价格和供需
  - 可以买入/卖出商品
  - 价格随供需波动
- **库存**：显示国家拥有的商品
- **命令队列**：显示待执行的命令

## 游戏玩法

### 开局建议

1. **点击"开始"按钮**，让时间开始流动
2. **启动国策**：
   - 点击左侧"工业扩张"国策（需要50政治点数）
   - 国策会在70天后完成，获得50机器
3. **建造矿场**：
   - 点击地图上的己方省份
   - 选择建造矿场
   - 矿场需要100天建造完成
4. **进行贸易**：
   - 点击右侧"打开交易"
   - 买入/卖出商品
   - 注意市场价格波动
5. **移动军队**：
   - 点击己方军队（蓝色方块）
   - 再点击地图其他位置
   - 军队会自动移动

### 进阶玩法

1. **资源链**：
   - 矿场产出铁矿
   - 工厂消耗铁矿+煤炭，产出钢铁
   - 形成完整的生产链

2. **国策规划**：
   - 完成"工业扩张"后可以启动"自由贸易"
   - 合理安排国策顺序

3. **市场投机**：
   - 低价买入，高价卖出
   - 大量交易会影响市场供需

4. **扩张准备**：
   - 建造军事基地
   - 训练更多军队
   - 为战争做准备

## 游戏机制详解

### 时间系统
- 游戏中每1秒 = 游戏中1天（1x速度）
- 2x速度下：每0.5秒 = 游戏中1天
- 5x速度下：每0.2秒 = 游戏中1天

### 市场系统
- 供需比 > 1.2：价格下降2%
- 供需比 < 0.8：价格上涨2%
- 买入增加需求，卖出增加供应
- 价格范围：基础价格的50%-300%

### 建筑系统
建筑 | 成本 | 时间 | 输入 | 输出
---|---|---|---|---
矿场 | ¥1000, 5机器, 1000人力 | 100天 | 1煤炭 | 5铁矿
工厂 | ¥2000, 10机器, 2000人力 | 150天 | 2铁矿, 1煤炭 | 3钢铁
军事基地 | ¥3000, 8机器, 1500人力 | 120天 | 1钢铁 | 无

### 国策系统
- 每个国策需要50政治点数启动
- 政治点数每天恢复0.5点
- 一次只能进行一个国策
- 完成国策获得各种奖励

## 技术栈

- React + TypeScript
- Vite
- 纯CSS（无UI框架）

## 后续可扩展功能

- [ ] 战争系统
- [ ] 外交系统
- [ ] 科技树
- [ ] 更多建筑类型
- [ ] 更复杂的生产链
- [ ] AI国家行为
- [ ] 随机事件
- [ ] 保存/读取游戏

## 开发说明

核心文件：
- `src/types.ts` - 类型定义
- `src/gameData.ts` - 初始数据
- `src/gameEngine.ts` - 游戏引擎逻辑
- `src/App.tsx` - 主UI组件
- `src/App.css` - 样式

游戏引擎每个游戏日更新一次，处理：
- 命令队列执行
- 建筑建造进度
- 国策进度
- 军队移动
- 市场价格调整
- 建筑生产
- 资源增长
